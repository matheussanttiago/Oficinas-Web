<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Seus Produtos</title>

    <!-- LINKS CSS -->
    <!-- <link rel="stylesheet" href="css/styleavaliacao.css"> -->
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/default.css">
    <link rel="stylesheet" href="css/styleHistorico.css">
    <link rel="stylesheet" href="css/styleCadProduto.css">

    <!-- LINKS PARA O GOOGLE FONTS -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <!-- FONTS -->
    <!-- GOTHIC-A1 -->
    <link href="https://fonts.googleapis.com/css2?family=Gothic+A1&display=swap" rel="stylesheet">
    <!-- SORA -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&family=Sora:wght@400;600&display=swap"
        rel="stylesheet">

    <!-- LINKS JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="js/script_menu.js"></script>
    <script src="js/mask.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.16/jquery.mask.min.js"></script>
    <script>
        $(document).ready(function () {
            $('.btn').click(function () {
                if (window.innerWidth < 756) {
                    $('#pag_produtos').hide();
                    $("#form_produto").show();
                    $("#form_produto").css('position', 'relative');
                    $('main').css('padding-bottom', '0')
                }
                else {
                    $("#form_produto").show();
                    $("#modal").show();
                }
            });
            $('#close').click(function () {
                if (window.innerWidth < 756) {
                    $('#pag_produtos').show();
                    $("#form_produto").hide();
                    $("#form_produto").css('position', 'relative');
                    $('main').css('padding-bottom', '42px')
                }
                else {
                    $("#form_produto").hide();
                    $("#modal").hide();
                }
            });
            $('#sub_form_produto').click(function () {
                $('.pop-up').css('display', 'flex');
                $('#modal').show();
            });
        })
    </script>
</head>

<body>
    <div id="modal"></div>

    <header id="header_pesquisa">
        <div id="fixed">
            <a href="index.html"><img src="img/Logo Oficinas Web 1 1.svg" alt="" class="logotipo"></a>

            <div id="container-pesquisa" class="container_fixed">
                <div id="pesquisa">
                    <img src="img/pesquisa-icon.svg" alt="" class="pesquisa_img">
                    <input type="search" name="barra-pesquisa" id="barra-pesquisa" placeholder="Estou buscando...">
                    <div id="filtro-s" class="filtro-s filtro"><img src="img/filtro-icon.svg" alt=""></div>
                </div>
            </div>

            <div id="menu_hamburger">
                <nav>
                    <div id="painel_menu">
                        <input type="checkbox" name="" id="check_menu">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </nav>
            </div>

            <div id="modal_box">

                <div id="dados_usuario">
                    <div class="foto">
                        <div id="inputs_foto">
                            <div class="circle_foto">
                                <img src="img/foto-padrao.svg" alt="" id="foto_padrao">
                            </div>
                            <!-- <div id="foto"></div> -->
                            <label for="add-img" id="addinput-p"><img src="img/add-foto.svg" alt="logo"></label>
                            <!-- <input type="file" name="add-img" id="add-img-p"> -->
                        </div>
                    </div>
                    <h3 class="nome_usuario">Sebastião Silva</h3>
                    <span class="email_usuario">sebastiãosilva@outlook.com</span>
                </div>

                <!-- <hr> -->

                <div id="opcoes">
                    <a href="./editar_perfil.html">
                        <div id="editar-perfil" class="opcao">
                            <img src="img/user_icon_branco.svg" alt="">
                            <span>Editar Perfil</span>
                        </div>
                    </a>
                    <a href="./historico.html">
                        <div id="historico" class="opcao">
                            <img src="img/file_icon_branco.svg" alt="">
                            <span>Historico</span>
                        </div>
                    </a>
                    <a href="./favoritos.html">
                        <div id="favoritos" class="opcao">
                            <img src="img/favorito_icon_branco.svg" alt="">
                            <span>Favoritos</span>
                        </div>
                    </a>
                    <a href="./notificacoes.html">
                        <div id="notificacoes" class="opcao">
                            <img src="img/notificacao_icon.svg" alt="">
                            <span>Notificações</span>
                        </div>
                    </a>
                </div>

                <!-- <hr> -->

                <div id="suas_oficinas">
                    <div id="opcao_suas-oficinas" class="opcao">
                        <img src="img/config_icon.svg" alt="">
                        <span>Suas Oficinas</span>
                    </div>
                    <a href="./oficina.html">
                        <div class="oficina opcao">
                            <div id="foto_oficina_menu"></div>
                            <span>Oficina do Tião</span>
                            <span class="tipo_plano" id="plano_ouro">ouro</span>
                        </div>
                    </a>
                    <div class="oficina opcao">
                        <div id="foto_oficina_menu"></div>
                        <span>Los Santos Customs</span>
                        <span class="tipo_plano" id="plano_prata">Prata</span>
                    </div>
                </div>

                <!-- <hr> -->

                <div id="logout">
                    <div id="opcao-logout" class="opcao">
                        <img src="img/user_icon_laranja.svg" alt="">
                        <span>Sair</span>
                    </div>
                </div>

            </div>

        </div>

        <div id="pesquisa">
            <img src="img/pesquisa-icon.svg" alt="" class="pesquisa_img">
            <input type="search" name="barra-pesquisa" id="barra-pesquisa-i" placeholder="Estou buscando...">
        </div>
        <div id="filtro-i" class="filtro-i filtro"><img src="img/filtro-icon.svg" alt=""></div>


    </header>

    <div id="container_filtro">
        <div>
            <div class="titulo" id="titulo-filtro">Filtro</div>

            <hr>

            <div class="titulo-filtro">Categoria</div>
            <div class="categorias">
                <nav>
                    <div class="opcao-filtro">Todos</div>
                    <div class="opcao-filtro">Oficina</div>
                    <div class="opcao-filtro">Serviço</div>
                    <div class="opcao-filtro">Produto</div>
                </nav>
            </div>

            <div class="titulo-filtro">Tipo de veículo</div>
            <div class="categorias">
                <nav>
                    <div class="opcao-filtro">Todos</div>
                    <div class="opcao-filtro">Motos</div>
                    <div class="opcao-filtro">Carros</div>
                    <div class="opcao-filtro">Bicicletas</div>
                </nav>
            </div>

            <div class="titulo-filtro">Faixa de preço</div>
            <input type="range" name="" id="" min="0" max="2000" steps="1" class="range_filtro">

            <div class="titulo-filtro">Avaliação</div>
            <div id="filtro-avaliacao">
                <div class="opcao-avaliacao">
                    <img src="img/star.svg" alt="">
                    <span class="nota">5</span>
                </div>
                <div class="opcao-avaliacao">
                    <img src="img/star.svg" alt="">
                    <span class="nota">4</span>
                </div>
                <div class="opcao-avaliacao">
                    <img src="img/star.svg" alt="">
                    <span class="nota">3</span>
                </div>
                <div class="opcao-avaliacao">
                    <img src="img/star.svg" alt="">
                    <span class="nota">2</span>
                </div>
                <div class="opcao-avaliacao">
                    <img src="img/star.svg" alt="">
                    <span class="nota">1</span>
                </div>
            </div>

            <hr>

            <div id="btns-filtro">
                <button class="segunda-opcao-btn">Resetar</button>
                <button class="primeira-opcao-btn">Aplicar Filtro</button>
            </div>

        </div>
    </div>
    <div id="topo_pesquisa" class="topo"></div>

    <main>
        <section id="pag_produtos">
            <div class="titulo_arrow">
                <img src="img/arrow_left.svg" alt="flecha virada para esquerda" onclick="window.history.back()">
                <h1 class="titulo"> Seus Produtos </h1>
            </div>

            <% if(produtos.length==0) { %>
                <h3>Você Ainda não possui serviços cadastrados.</h3>
                <% } else { %>
                    <div id="seus_produtos">
                        <% for(let i=0; i < produtos.length; i++) { %>
                            <a href="/servico/<%=produtos[i].id_produto%>">
                                <div class="box_produto">
                                    <div class="content">
                                        <img class="produto" src="data:image/gif;base64,<%= produtos[i].foto1 %>"
                                            alt="">
                                        <div class="infos_produto">
                                            <h4 class="tinta">
                                                <%= produtos[i].nome_produto %>
                                            </h4>
                                            <h3 class="desc_oficina">
                                                <%= produtos[i].descricao_prod %>
                                            </h3>
                                            <h3 class="preco">R$<%= produtos[i].valor_produto %>
                                            </h3>
                                            <div id="btns">
                                                <button class="btn_box" id="Editar">Editar</button>
                                                <button class="btn_box" id="copiarLink">Copiar Link</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </a>
                            <% } %>
                    </div>
                    <% } %>

                        </div>
        </section>
        <button class="btn">Adicionar produtos</button>







        <!-- SECTION FORM PRODUTOS -->
        <section id="form_produto">
            <div class="titulo_arrow">
                <img src="img/arrow_left.svg" alt="logo" id="close">
                <h1 class="titulo">Cadastrar produto</h1>
            </div>

            <div>
                <form action="/cad_produto" enctype="multipart/form-data" method="post">
                    <div class="row1">
                        <div class="inputs-container">
                            <div class="input-icon" id="email-icon"><img src="img/nome_produto_icon.svg" alt=""></div>
                            <input id="nome_produto" class="inputs inputs_with_icon" placeholder="Nome do produto"
                                type="text" name="nome_produto">
                        </div>

                        <div class="inputs-container">
                            <div class="input-icon" id="email-icon"><img src="img/dolar_icon.svg" alt=""></div>
                            <input id="valor_produto" class="inputs inputs_with_icon" placeholder="Valor do produto"
                                type="text" name="valor_produto">
                        </div>
                    </div>

                    <div class="inputs-container">
                        <div class="line-checkbox">
                                <label for="carro">Carros</label>
                                <input type="checkbox" name="carro" id="carro">
                        </div>
                        <div class="line-checkbox">
                                <label for="moto">motos</label>
                                <input type="checkbox" name="moto" id="moto">
                        </div>
                        <div class="line-checkbox">
                                <label for="van">vans</label>
                                <input type="checkbox" name="van" id="van">
                        </div>
                        <div class="line-checkbox">
                                <label for="caminhão">caminhões</label>
                                <input type="checkbox" name="caminhao" id="caminhão">
                        </div>
                        <div class="line-checkbox">
                                <label for="bicicleta">bicicletas</label>
                                <input type="checkbox" name="bicicleta" id="bicicleta">
                        </div>
                        <div class="line-checkbox">
                                <label for="todos">Todos</label>
                                <input type="checkbox" name="todos" id="todos">
                        </div>
                    </div>
                    
                    <div class="row2">
                        <div class="inputs-container">
                            <div class="input-icon" id="email-icon"><img src="img/file_icon.svg" alt=""></div>
                            <!-- <input id="desc_produto" class="inputs inputs_with_icon" placeholder="Descrição do produto"
                                type="text"> -->
                            <textarea name="desc_produtos" id="desc_produtos" class="inputs inputs_with_icon txt_area"
                                cols="30" rows="10" placeholder="Descrição do produto"></textarea>
                        </div>
                        <div class="inputs-container">
                            <div class="input-icon" id="email-icon"><img src="img/file_icon.svg" alt=""></div>
                            <!-- <input id="carac_produtos" class="inputs inputs_with_icon"
                                placeholder="Características do produto" type="text"> -->
                            <textarea name="carac_produtos" id="carac_produtos" class="inputs inputs_with_icon txt_area"
                                cols="30" rows="10" placeholder="Características do produto"></textarea>
                        </div>
                    </div>

                    <div id="sec_fotos">
                        <h2 class="titulo" id="fotos_title">Fotos do produto</h2>
                        <div id="box_preview_fotos"></div>
                        <label for="add-img" id="addinput">Adicionar imagem</label>
                        <input type="file" name="add-img" id="add-img" accept="image/
                            png, image/jpeg" multiple />
                    </div>
                    <button class="btn default_btn" id="sub_form_produto" type="submit"> <span>Continuar</span>
                    </button>


                </form>
            </div>

            <div class="pop-up">
                <img src="img/img_pop-up.svg" alt="">
                <h3>Produto Cadastrado!</h3>

                <button class="primeira-opcao-btn"><a href="/produto">Ver Produto</a></button>
                <button class="segunda-opcao-btn"><a href="/dashboard">Concluir</a></button>
            </div>

        </section>


    </main>

    <script src="js/script_cad-produto.js"></script>

    <script>
        const textarea1 = document.querySelector("#desc_produtos");
        const textarea2 = document.querySelector("#carac_produtos");
        textarea1.addEventListener('keyup', e => {
            textarea1.style.height = '46px'
            let schHeight = e.target.scrollHeight;
            textarea1.style.height = `${schHeight}px`
        });
        textarea2.addEventListener('keyup', e => {
            textarea2.style.height = '46px'
            let schHeight = e.target.scrollHeight;
            textarea2.style.height = `${schHeight}px`
        });
    </script>

</body>

</html>